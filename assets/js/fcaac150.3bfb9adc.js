"use strict";(self.webpackChunkdeveloper_newcoin_org_2=self.webpackChunkdeveloper_newcoin_org_2||[]).push([[9469],{3905:(e,n,t)=>{t.d(n,{Zo:()=>u,kt:()=>h});var r=t(7294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function a(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var l=r.createContext({}),s=function(e){var n=r.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):c(c({},n),e)),t},u=function(e){var n=s(e.components);return r.createElement(l.Provider,{value:n},e.children)},d="mdxType",p={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},f=r.forwardRef((function(e,n){var t=e.components,i=e.mdxType,o=e.originalType,l=e.parentName,u=a(e,["components","mdxType","originalType","parentName"]),d=s(t),f=i,h=d["".concat(l,".").concat(f)]||d[f]||p[f]||o;return t?r.createElement(h,c(c({ref:n},u),{},{components:t})):r.createElement(h,c({ref:n},u))}));function h(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var o=t.length,c=new Array(o);c[0]=f;var a={};for(var l in n)hasOwnProperty.call(n,l)&&(a[l]=n[l]);a.originalType=e,a[d]="string"==typeof e?e:i,c[1]=a;for(var s=2;s<o;s++)c[s]=t[s];return r.createElement.apply(null,c)}return r.createElement.apply(null,t)}f.displayName="MDXCreateElement"},1660:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>p,frontMatter:()=>o,metadata:()=>a,toc:()=>s});var r=t(7462),i=(t(7294),t(3905));const o={},c="Step 3: Ensuring Secure and Efficient Contract Operation",a={unversionedId:"guides/gitcoin-chainlink-guild/securing-the-contract",id:"guides/gitcoin-chainlink-guild/securing-the-contract",title:"Step 3: Ensuring Secure and Efficient Contract Operation",description:"This step will focus on ensuring that the contract is securely configured and provides the necessary functionality for efficient operation. This includes ensuring only the contract owner can modify critical parameters and allowing the owner to withdraw LINK tokens from the contract.",source:"@site/docs/guides/gitcoin-chainlink-guild/securing-the-contract.md",sourceDirName:"guides/gitcoin-chainlink-guild",slug:"/guides/gitcoin-chainlink-guild/securing-the-contract",permalink:"/docs/guides/gitcoin-chainlink-guild/securing-the-contract",draft:!1,editUrl:"https://github.com/newfound8ion/ipsp/edit/main/docs/guides/gitcoin-chainlink-guild/securing-the-contract.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Step 2: Implementing Activation Function and Oracle Request Logic",permalink:"/docs/guides/gitcoin-chainlink-guild/implementing-function-oracle"},next:{title:"Step 4: Interacting with the Encoder and Activating the Function",permalink:"/docs/guides/gitcoin-chainlink-guild/registering-the-function"}},l={},s=[{value:"A. Owner-Only Configurations",id:"a-owner-only-configurations",level:2},{value:"B. Withdraw LINK Tokens",id:"b-withdraw-link-tokens",level:2},{value:"Conclusion of Step 3:",id:"conclusion-of-step-3",level:2}],u={toc:s},d="wrapper";function p(e){let{components:n,...t}=e;return(0,i.kt)(d,(0,r.Z)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"step-3-ensuring-secure-and-efficient-contract-operation"},"Step 3: Ensuring Secure and Efficient Contract Operation"),(0,i.kt)("p",null,"This step will focus on ensuring that the contract is securely configured and provides the necessary functionality for efficient operation. This includes ensuring only the contract owner can modify critical parameters and allowing the owner to withdraw LINK tokens from the contract."),(0,i.kt)("h2",{id:"a-owner-only-configurations"},"A. Owner-Only Configurations"),(0,i.kt)("p",null,"Ensure that critical parameters like the Oracle address, job ID, and fee can only be modified by the contract owner."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},"// Update oracle address\nfunction setOracleAddress(address _oracleAddress) public onlyOwner {\n    oracleAddress = _oracleAddress;\n    setChainlinkOracle(_oracleAddress);\n}\n\n// Update jobId\nfunction setJobId(string memory _jobId) public onlyOwner {\n    jobId = bytes32(bytes(_jobId));\n}\n\n// Update fees\nfunction setFeeInJuels(uint256 _feeInJuels) public onlyOwner {\n    fee = _feeInJuels;\n}\nfunction setFeeInHundredthsOfLink(uint256 _feeInHundredthsOfLink) public onlyOwner {\n    setFeeInJuels((_feeInHundredthsOfLink * LINK_DIVISIBILITY) / 100);\n}\n")),(0,i.kt)("p",null,"The onlyOwner modifier ensures that only the contract owner can modify these parameters, ensuring secure operation and preventing unauthorized manipulation."),(0,i.kt)("h2",{id:"b-withdraw-link-tokens"},"B. Withdraw LINK Tokens"),(0,i.kt)("p",null,"Provide functionality for the contract owner to withdraw LINK tokens from the contract."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},'function withdrawLink() public onlyOwner {\n    LinkTokenInterface link = LinkTokenInterface(chainlinkTokenAddress());\n    require(\n        link.transfer(msg.sender, link.balanceOf(address(this))),\n        "Unable to transfer"\n    );\n}\n')),(0,i.kt)("p",null,"This function allows the contract owner to retrieve LINK tokens from the contract, providing flexibility and control over the contract's funds."),(0,i.kt)("h2",{id:"conclusion-of-step-3"},"Conclusion of Step 3:"),(0,i.kt)("p",null,"In this step:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"We've implemented functions that allow the contract owner to modify critical parameters safely, ensuring that the contract interacts correctly with the Chainlink network."),(0,i.kt)("li",{parentName:"ul"},"We've provided a mechanism for the contract owner to withdraw LINK tokens from the contract, ensuring that the owner has control and access to the contract\u2019s funds.")))}p.isMDXComponent=!0}}]);